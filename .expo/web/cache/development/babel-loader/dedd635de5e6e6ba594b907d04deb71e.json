{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport apiClient from \"./ClientApi\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar register = function () {\n  var _ref = _asyncToGenerator(function* (userJson) {\n    console.log('Try Register ', userJson);\n    console.log(userJson);\n    if (userJson.userType === 'intern') {\n      return apiClient.post(\"auth/registerIntern\", userJson);\n    } else {\n      return apiClient.post(\"auth/registerHospital\", userJson);\n    }\n  });\n  return function register(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar login = function () {\n  var _ref2 = _asyncToGenerator(function* (userJson) {\n    return apiClient.post(\"auth/login\", userJson);\n  });\n  return function login(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar forgotPassword = function () {\n  var _ref3 = _asyncToGenerator(function* (userEmail) {\n    return apiClient.post('auth/forgetPassword', userEmail);\n  });\n  return function forgotPassword(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar logout = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    var token = yield AsyncStorage.getItem(\"accessToken\");\n    yield apiClient.get(\"/auth/logout\", {}, {\n      headers: {\n        authorization: \"Bearer \" + token\n      }\n    });\n    yield AsyncStorage.clear();\n    console.log(\"Logged out\");\n  });\n  return function logout() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport default {\n  register: register,\n  login: login,\n  logout: logout\n};","map":{"version":3,"names":["apiClient","AsyncStorage","register","_ref","_asyncToGenerator","userJson","console","log","userType","post","_x","apply","arguments","login","_ref2","_x2","forgotPassword","_ref3","userEmail","_x3","logout","_ref4","token","getItem","get","headers","authorization","clear"],"sources":["C:/Users/michael harush/Desktop/Front/api/AuthApi.tsx"],"sourcesContent":["import apiClient from \"./ClientApi\"\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nconst register = async (userJson: any) => {\r\n  console.log('Try Register ', userJson)\r\n  console.log(userJson)\r\n  if(userJson.userType==='intern'){\r\n    return apiClient.post(\"auth/registerIntern\", userJson)\r\n  }\r\n  else{\r\n    return apiClient.post(\"auth/registerHospital\", userJson)\r\n  }\r\n    \r\n} \r\n\r\nconst login = async (userJson: any) => {\r\n    return apiClient.post(\"auth/login\", userJson)\r\n}\r\nconst forgotPassword=async (userEmail:string)=>{\r\n  return apiClient.post('auth/forgetPassword',userEmail)\r\n}\r\nconst logout = async (): Promise<void> => {\r\n    const token = await AsyncStorage.getItem(\"accessToken\");\r\n    await apiClient.get<void>(\"/auth/logout\", {}, {\r\n      headers: { authorization: `Bearer ${token}` },\r\n    });\r\n    await AsyncStorage.clear();\r\n    console.log(\"Logged out\");\r\n  };\r\n\r\n\r\nexport default {\r\n    register,\r\n    login,\r\n    logout,\r\n}"],"mappings":";AAAA,OAAOA,SAAS;AAChB,OAAOC,YAAY,MAAM,2CAA2C;AACpE,IAAMC,QAAQ;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,QAAa,EAAK;IACxCC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,QAAQ,CAAC;IACtCC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,IAAGA,QAAQ,CAACG,QAAQ,KAAG,QAAQ,EAAC;MAC9B,OAAOR,SAAS,CAACS,IAAI,CAAC,qBAAqB,EAAEJ,QAAQ,CAAC;IACxD,CAAC,MACG;MACF,OAAOL,SAAS,CAACS,IAAI,CAAC,uBAAuB,EAAEJ,QAAQ,CAAC;IAC1D;EAEF,CAAC;EAAA,gBAVKH,QAAQA,CAAAQ,EAAA;IAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;EAAA;AAAA,GAUb;AAED,IAAMC,KAAK;EAAA,IAAAC,KAAA,GAAAV,iBAAA,CAAG,WAAOC,QAAa,EAAK;IACnC,OAAOL,SAAS,CAACS,IAAI,CAAC,YAAY,EAAEJ,QAAQ,CAAC;EACjD,CAAC;EAAA,gBAFKQ,KAAKA,CAAAE,GAAA;IAAA,OAAAD,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAEV;AACD,IAAMI,cAAc;EAAA,IAAAC,KAAA,GAAAb,iBAAA,CAAC,WAAOc,SAAgB,EAAG;IAC7C,OAAOlB,SAAS,CAACS,IAAI,CAAC,qBAAqB,EAACS,SAAS,CAAC;EACxD,CAAC;EAAA,gBAFKF,cAAcA,CAAAG,GAAA;IAAA,OAAAF,KAAA,CAAAN,KAAA,OAAAC,SAAA;EAAA;AAAA,GAEnB;AACD,IAAMQ,MAAM;EAAA,IAAAC,KAAA,GAAAjB,iBAAA,CAAG,aAA2B;IACtC,IAAMkB,KAAK,SAASrB,YAAY,CAACsB,OAAO,CAAC,aAAa,CAAC;IACvD,MAAMvB,SAAS,CAACwB,GAAG,CAAO,cAAc,EAAE,CAAC,CAAC,EAAE;MAC5CC,OAAO,EAAE;QAAEC,aAAa,cAAYJ;MAAQ;IAC9C,CAAC,CAAC;IACF,MAAMrB,YAAY,CAAC0B,KAAK,EAAE;IAC1BrB,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;EAC3B,CAAC;EAAA,gBAPGa,MAAMA,CAAA;IAAA,OAAAC,KAAA,CAAAV,KAAA,OAAAC,SAAA;EAAA;AAAA,GAOT;AAGH,eAAe;EACXV,QAAQ,EAARA,QAAQ;EACRW,KAAK,EAALA,KAAK;EACLO,MAAM,EAANA;AACJ,CAAC"},"metadata":{},"sourceType":"module"}